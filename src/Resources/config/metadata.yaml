services:
    _defaults:
        autowire: false
        autoconfigure: false
        public: false

    App\Metadata\Resource\Factory\ResourceMetadataFactory:
        arguments:
            - '@App\Metadata\Extractor\ExtractorChain'

    App\Metadata\Resource\Factory\CachedResourceMetadataFactory:
        decorates: App\Metadata\Resource\Factory\ResourceMetadataFactory
        arguments:
            - "@simple_rest.cache.metadata.resource"
            - '@App\Metadata\Resource\Factory\CachedResourceMetadataFactory.inner'

    simple_rest.cache.metadata.resource:
        autowire: true
        autoconfigure: false
        public: false
        parent: "cache.system"
        tags: [ "cache.pool" ]
